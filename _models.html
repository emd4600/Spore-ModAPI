<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Models | Spore ModAPI SDK for creating C++ mods for Spore</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark.css" />
  <link rel="stylesheet" href="m-documentation.css" />
  <link rel="icon" href="Spore_ModAPI_Icon.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="Spore_ModAPI_Icon.png" />Spore ModAPI <span class="m-thin">SDK for creating C++ mods for Spore</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Tutorials</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          Models
        </h1>
        <p>How to display models.</p>
<p>Everything related to models is in the <a href="namespace_graphics.html" class="m-doc">Graphics</a> namespace.</p><section id="Models-World"><h2><a href="#Models-World">Creating a model world</a></h2><p>In Spore, models are organized in <strong>model worlds</strong>. A model world is not affected by models on other worlds; each model world can have multiple &quot;lighting worlds&quot; which control how the moedls are illuminated.</p><p>Creating a new model world is very easy, you just need to assign it an ID. For example, if you wanted to create your own game mode, you would need your own model world. You will also have to add it to the rendering queue.</p><pre class="m-code"><span class="n">IModelWorldPtr</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ModelManager</span><span class="p">.</span><span class="n">CreateWorld</span><span class="p">(</span><span class="n">id</span><span class="p">(</span><span class="s">&quot;MyWorld&quot;</span><span class="p">));</span><span class="w"></span>
<span class="n">world</span><span class="o">-&gt;</span><span class="n">SetVisible</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span><span class="w"></span>

<span class="n">RenderManager</span><span class="p">.</span><span class="n">AddRenderable</span><span class="p">(</span><span class="n">world</span><span class="o">-&gt;</span><span class="n">ToRenderable</span><span class="p">(),</span><span class="w"> </span><span class="n">Graphics</span><span class="o">::</span><span class="n">kRenderQueueMain</span><span class="p">);</span><span class="w"></span></pre><aside class="m-note m-info"><h4>Note</h4><p>On certain occasions you might want to have multiple model worlds, and decide how to render them manually. In that case, you don&#x27;t need to add the world to the render queue.</p></aside></section><section id="Models-Adding"><h2><a href="#Models-Adding">Adding new models</a></h2><p>In order for a model to be displayed, it needs to be inside a model world. If you are modifying an existing mode (say, for example, the editors) you will probably have access to an exsting model world; if you don&#x27;t, create one. In order to load a model you have to reference it&#x27;s <code>.prop</code> file:</p><pre class="m-code"><span class="c1">// In this example, we use the background model world of the editor</span>
<span class="k">auto</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Editor</span><span class="p">.</span><span class="n">mpBackgroundModelWorld</span><span class="p">;</span><span class="w"></span>
<span class="n">ModelPtr</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">world</span><span class="o">-&gt;</span><span class="n">LoadModel</span><span class="p">(</span><span class="n">id</span><span class="p">(</span><span class="s">&quot;ep1_altarreligious&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">GroupIDs</span><span class="o">::</span><span class="n">CivicObjects</span><span class="p">);</span><span class="w"></span>
<span class="n">world</span><span class="o">-&gt;</span><span class="n">UpdateModel</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w"></span></pre></section><section id="Models-Transforming"><h2><a href="#Models-Transforming">Transforming models</a></h2><p>By default, models are visible. You can change that:</p><pre class="m-code"><span class="c1">// &#39;false&#39; -&gt; invisible, &#39;true&#39; -&gt; visible</span>
<span class="n">world</span><span class="o">-&gt;</span><span class="n">SetModelVisibility</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">get</span><span class="p">(),</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span><span class="w"></span></pre><p>With what you learned before, the models will always spawn at the same position. Obviously, this is not what we want. The model class has a method called <code><a href="namespace_graphics_1_1_global_state.html#ac6b20b8cd1bfdfa021ac22a8eb2e400b" class="m-doc">SetTransform()</a></code> that allows us to move, scale and rotate the model. This takes a <a href="class_transform.html" class="m-doc">Transform</a> object; for more information on how it works, check the <a href="_math.html">math tutorial</a>.</p><pre class="m-code"><span class="c1">// This set the scale of the model to 0.5 (so it will be half the original size)</span>
<span class="c1">// and moves it one unit up. As you can see, transformations can be concatenated</span>
<span class="n">model</span><span class="o">-&gt;</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">Transform</span><span class="p">().</span><span class="n">SetScale</span><span class="p">(</span><span class="mf">0.5f</span><span class="p">).</span><span class="n">SetOffset</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">));</span><span class="w"></span></pre></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Spore ModAPI SDK for creating C++ mods for Spore. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
